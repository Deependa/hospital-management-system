{
  "version": 2,
  "builds": [
    {
      "src": "backend/app.js", // Path to your main backend server file
      "use": "@vercel/node"
    },
    {
      "src": "frontend/package.json", // Path to your main frontend's package.json
      "use": "@vercel/static-build",
      "config": { "distDir": "build" } // Adjust "build" if your output directory is different
    },
    {
      "src": "DASHBOARD/package.json", // Path to your dashboard frontend's package.json
      "use": "@vercel/static-build",
      "config": { "distDir": "build" } // Adjust "build" if your output directory is different
    }
  ],
  "routes": [
    {
      "src": "/api/(.*)", // All API routes
      "dest": "/backend/app.js" // Forward to your Express server
    },
    {
      "src": "/dashboard/(.*)", // Routes for the dashboard
      "dest": "/DASHBOARD/build/$1" // Serve dashboard static files
    },
    {
      "src": "/(.*)", // All other routes
      "dest": "/frontend/build/$1" // Serve frontend static files
    }
  ]
}
